â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          STRUKTURA KOMPONENTÃ“W
                     ROZPOCZYNAJÄ„C OD @RulePreview.tsx
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  RulePreview.tsx     â”‚
                          â”‚  (GÅÃ“WNY KOMPONENT)  â”‚
                          â”‚                      â”‚
                          â”‚  Props:              â”‚
                          â”‚  - rule: Rule        â”‚
                          â”‚  - onEdit()          â”‚
                          â”‚  - onDelete()        â”‚
                          â”‚  - onToggleStatus()  â”‚
                          â”‚  - showActions       â”‚
                          â”‚  - compact           â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                    â”‚                    â”‚
                â–¼                    â–¼                    â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   button.tsx     â”‚ â”‚ ErrorAlert.tsx   â”‚ â”‚RuleEditor.tsx   â”‚
     â”‚   (UI Base)      â”‚ â”‚  (UI Base)       â”‚ â”‚  (Editor Form)  â”‚
     â”‚                  â”‚ â”‚                  â”‚ â”‚                 â”‚
     â”‚  [radix-ui]      â”‚ â”‚  Props:          â”‚ â”‚  Props:         â”‚
     â”‚  [cva]           â”‚ â”‚  - type          â”‚ â”‚  - rule?        â”‚
     â”‚                  â”‚ â”‚  - message       â”‚ â”‚  - onSave()     â”‚
     â”‚  Variants:       â”‚ â”‚  - dismissible   â”‚ â”‚  - onCancel()   â”‚
     â”‚  â€¢ default       â”‚ â”‚  - onDismiss()   â”‚ â”‚                 â”‚
     â”‚  â€¢ destructive   â”‚ â”‚                  â”‚ â”‚  uÅ¼ywa:         â”‚
     â”‚  â€¢ outline       â”‚ â”‚  Types:          â”‚ â”‚  â”œâ”€ button.tsx  â”‚
     â”‚  â€¢ secondary     â”‚ â”‚  â€¢ error         â”‚ â”‚  â””â”€ErrorAlert   â”‚
     â”‚  â€¢ ghost         â”‚ â”‚  â€¢ warning       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚  â€¢ link          â”‚ â”‚  â€¢ info          â”‚
     â”‚                  â”‚ â”‚  â€¢ success       â”‚
     â”‚  Sizes:          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚  â€¢ default       â”‚
     â”‚  â€¢ sm            â”‚
     â”‚  â€¢ lg            â”‚
     â”‚  â€¢ icon          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                     â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                    â”‚                    â”‚
                â–¼                    â–¼                    â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚RuleCondition.tsx â”‚ â”‚  RuleAction.tsx  â”‚ â”‚  RulesList.tsx  â”‚
     â”‚  (Podkomponent)  â”‚ â”‚  (Podkomponent)  â”‚ â”‚  (Kontener)     â”‚
     â”‚                  â”‚ â”‚                  â”‚ â”‚                 â”‚
     â”‚  Props:          â”‚ â”‚  Props:          â”‚ â”‚  Props:         â”‚
     â”‚  - condition     â”‚ â”‚  - action        â”‚ â”‚  - rules[]      â”‚
     â”‚                  â”‚ â”‚                  â”‚ â”‚  - isLoading    â”‚
     â”‚  WyÅ›wietla:      â”‚ â”‚  WyÅ›wietla:      â”‚ â”‚  - error        â”‚
     â”‚  â€¢ expression    â”‚ â”‚  â€¢ type          â”‚ â”‚  - onEdit()     â”‚
     â”‚  â€¢ parameters{}  â”‚ â”‚  â€¢ message       â”‚ â”‚  - onDelete()   â”‚
     â”‚                  â”‚ â”‚  â€¢ config{}      â”‚ â”‚  - onToggle()   â”‚
     â”‚  Highlighting:   â”‚ â”‚                  â”‚ â”‚                 â”‚
     â”‚  â€¢ <pre> block   â”‚ â”‚  Icons:          â”‚ â”‚  uÅ¼ywa:         â”‚
     â”‚  â€¢ mono font     â”‚ â”‚  âœ“ validate      â”‚ â”‚  â”œâ”€RulePreview  â”‚
     â”‚  â€¢ blue theme    â”‚ â”‚  â†» transform     â”‚ â”‚  â””â”€ErrorAlert   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  ğŸ”” notify       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚  âœ• reject        â”‚
                          â”‚                  â”‚
                          â”‚  Colors:         â”‚
                          â”‚  â€¢ green/blue/   â”‚
                          â”‚    yellow/red    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            HIERARCHIA ZALEÅ»NOÅšCI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Level 0: ZEWNÄ˜TRZNE BIBLIOTEKI
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   React      â”‚  â”‚  @radix-ui/slot    â”‚  â”‚ class-variance-  â”‚
    â”‚   (base)     â”‚  â”‚  (button base)     â”‚  â”‚   authority      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚                       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
Level 1: PODSTAWOWE UI KOMPONENTY
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                          â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚    â”‚   button.tsx     â”‚        â”‚ ErrorAlert.tsx   â”‚    â”‚
    â”‚    â”‚                  â”‚        â”‚                  â”‚    â”‚
    â”‚    â”‚  /components/ui/ â”‚        â”‚  /components/ui/ â”‚    â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚                                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
Level 2: PODKOMPONENTY RULES
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  â”‚ RuleCondition   â”‚  â”‚  RuleAction     â”‚              â”‚
    â”‚  â”‚      .tsx       â”‚  â”‚      .tsx       â”‚              â”‚
    â”‚  â”‚                 â”‚  â”‚                 â”‚              â”‚
    â”‚  â”‚ /components/    â”‚  â”‚ /components/    â”‚              â”‚
    â”‚  â”‚   rules/        â”‚  â”‚   rules/        â”‚              â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
Level 3: KOMPONENT GÅÃ“WNY I EDYTOR
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  â”‚  RulePreview    â”‚  â”‚   RuleEditor    â”‚              â”‚
    â”‚  â”‚      .tsx       â”‚  â”‚      .tsx       â”‚              â”‚
    â”‚  â”‚                 â”‚  â”‚                 â”‚              â”‚
    â”‚  â”‚  [IMPORTUJE]    â”‚  â”‚  [IMPORTUJE]    â”‚              â”‚
    â”‚  â”‚  â€¢ Button       â”‚  â”‚  â€¢ Button       â”‚              â”‚
    â”‚  â”‚  â€¢ ErrorAlert   â”‚  â”‚  â€¢ ErrorAlert   â”‚              â”‚
    â”‚  â”‚  â€¢ RuleEditor   â”‚  â”‚                 â”‚              â”‚
    â”‚  â”‚  â€¢ RuleConditionâ”‚  â”‚                 â”‚              â”‚
    â”‚  â”‚  â€¢ RuleAction   â”‚  â”‚                 â”‚              â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
Level 4: KOMPONENT LISTY (KONTENER)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                          â”‚
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
    â”‚              â”‚   RulesList     â”‚                        â”‚
    â”‚              â”‚      .tsx       â”‚                        â”‚
    â”‚              â”‚                 â”‚                        â”‚
    â”‚              â”‚  [IMPORTUJE]    â”‚                        â”‚
    â”‚              â”‚  â€¢ RulePreview  â”‚                        â”‚
    â”‚              â”‚  â€¢ ErrorAlert   â”‚                        â”‚
    â”‚              â”‚                 â”‚                        â”‚
    â”‚              â”‚  Features:      â”‚                        â”‚
    â”‚              â”‚  â€¢ Filtering    â”‚                        â”‚
    â”‚              â”‚  â€¢ Loading      â”‚                        â”‚
    â”‚              â”‚  â€¢ Empty state  â”‚                        â”‚
    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
    â”‚                                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        PRZEPÅYW DANYCH (DATA FLOW)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PARENT COMPONENT/PAGE                           â”‚
â”‚                         (np. /pages/rules.tsx)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ rules: Rule[]
                                â”‚ handlers: onEdit, onDelete, onToggle
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    RulesList.tsx      â”‚
                    â”‚  â€¢ Filtering logic    â”‚
                    â”‚  â€¢ Loading states     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ rules.map(rule => ...)
                                â”‚ przekazuje: rule, handlers
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   RulePreview.tsx     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  â€¢ Display logic      â”‚         â”‚
                    â”‚  â€¢ Action buttons     â”‚         â”‚
                    â”‚  â€¢ Delete modal       â”‚         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                â”‚                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
              â”‚                 â”‚              â”‚      â”‚
              â–¼                 â–¼              â–¼      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RuleCondition   â”‚ â”‚ RuleAction  â”‚ â”‚ RuleEditor   â”‚
    â”‚                 â”‚ â”‚             â”‚ â”‚  (on edit)   â”‚
    â”‚  condition:     â”‚ â”‚  action:    â”‚ â”‚              â”‚
    â”‚  â€¢ expression   â”‚ â”‚  â€¢ type     â”‚ â”‚  onSave() â”€â”€â”€â”˜
    â”‚  â€¢ parameters   â”‚ â”‚  â€¢ message  â”‚ â”‚  onCancel()
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â€¢ config   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         TYPY DANYCH (TYPE SYSTEM)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

interface Rule {
  id: string
  name: string
  description?: string
  status: 'active' | 'inactive' | 'draft'
  priority: 'low' | 'medium' | 'high' | 'critical'
  condition: {
    expression: string
    parameters: Record<string, any>
  }
  action: {
    type: 'validate' | 'transform' | 'notify' | 'reject'
    config: Record<string, any>
    message?: string
  }
  created_at: string
  updated_at: string
  created_by: string
}

                    â–²
                    â”‚
                    â”‚ uÅ¼ywane przez
                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚               â”‚
    â–¼               â–¼               â–¼
RulePreview    RulesList      RuleEditor


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          LOKALIZACJA PLIKÃ“W
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

10x-astro-starter/src/components/
â”‚
â”œâ”€â”€ ui/                                  [LEVEL 1 - BASE UI]
â”‚   â”œâ”€â”€ button.tsx                       â† Bazowy komponent przycisku
â”‚   â””â”€â”€ ErrorAlert.tsx                   â† Bazowy komponent alertu
â”‚
â””â”€â”€ rules/                               [LEVEL 2-4 - RULES SYSTEM]
    â”œâ”€â”€ RuleCondition.tsx                â† WyÅ›wietla warunki reguÅ‚y
    â”œâ”€â”€ RuleAction.tsx                   â† WyÅ›wietla akcje reguÅ‚y
    â”œâ”€â”€ RulePreview.tsx                  â† â˜… GÅÃ“WNY KOMPONENT â˜…
    â”œâ”€â”€ RuleEditor.tsx                   â† Formularz edycji
    â””â”€â”€ RulesList.tsx                    â† Kontener listy reguÅ‚

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         FUNKCJONALNOÅšCI KOMPONENTÃ“W
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RulePreview.tsx
â”œâ”€â”€ âœ“ WyÅ›wietlanie nagÅ‚Ã³wka reguÅ‚y (nazwa, status, priorytet)
â”œâ”€â”€ âœ“ WyÅ›wietlanie opisu
â”œâ”€â”€ âœ“ WyÅ›wietlanie dat (created, updated)
â”œâ”€â”€ âœ“ Przyciski akcji (Edit, Delete, Toggle Status)
â”œâ”€â”€ âœ“ Tryb kompaktowy (compact mode)
â”œâ”€â”€ âœ“ Modal potwierdzenia usuniÄ™cia
â”œâ”€â”€ âœ“ ObsÅ‚uga bÅ‚Ä™dÃ³w
â”œâ”€â”€ âœ“ Sekcja warunkÃ³w (RuleCondition)
â””â”€â”€ âœ“ Sekcja akcji (RuleAction)

RuleCondition.tsx
â”œâ”€â”€ âœ“ Syntax highlighting dla wyraÅ¼eÅ„
â”œâ”€â”€ âœ“ WyÅ›wietlanie parametrÃ³w
â””â”€â”€ âœ“ Formatowanie JSON

RuleAction.tsx
â”œâ”€â”€ âœ“ Ikony dla typÃ³w akcji (âœ“ â†» ğŸ”” âœ•)
â”œâ”€â”€ âœ“ Kolorowanie wedÅ‚ug typu
â”œâ”€â”€ âœ“ WyÅ›wietlanie konfiguracji
â””â”€â”€ âœ“ WyÅ›wietlanie wiadomoÅ›ci

RuleEditor.tsx
â”œâ”€â”€ âœ“ Formularz tworzenia/edycji
â”œâ”€â”€ âœ“ Walidacja pÃ³l
â”œâ”€â”€ âœ“ ObsÅ‚uga bÅ‚Ä™dÃ³w
â”œâ”€â”€ âœ“ Status i priorytet (select)
â””â”€â”€ âœ“ Edytor wyraÅ¼eÅ„ (textarea z mono font)

RulesList.tsx
â”œâ”€â”€ âœ“ Filtrowanie (all, active, inactive, draft)
â”œâ”€â”€ âœ“ Stan Å‚adowania (loading skeletons)
â”œâ”€â”€ âœ“ Pusty stan (empty state)
â””â”€â”€ âœ“ Renderowanie wielu RulePreview

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         SZCZEGÃ“ÅOWA ANALIZA ZALEÅ»NOÅšCI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RulePreview.tsx (gÅ‚Ã³wny)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  IMPORT DEPENDENCIES:                                                   â”‚
â”‚  â”œâ”€ import * as React from 'react'                                      â”‚
â”‚  â”œâ”€ import { Button } from '@/components/ui/button'                     â”‚
â”‚  â”œâ”€ import { ErrorAlert } from '@/components/ui/ErrorAlert'             â”‚
â”‚  â”œâ”€ import { RuleEditor } from './RuleEditor'                           â”‚
â”‚  â”œâ”€ import { RuleCondition } from './RuleCondition'                     â”‚
â”‚  â””â”€ import { RuleAction } from './RuleAction'                           â”‚
â”‚                                                                         â”‚
â”‚  STATE MANAGEMENT:                                                      â”‚
â”‚  â”œâ”€ [showDetails, setShowDetails] - toggle visibility                  â”‚
â”‚  â”œâ”€ [isDeleting, setIsDeleting] - delete operation status              â”‚
â”‚  â”œâ”€ [error, setError] - error messages                                 â”‚
â”‚  â””â”€ [showDeleteConfirm, setShowDeleteConfirm] - modal control          â”‚
â”‚                                                                         â”‚
â”‚  HANDLERS:                                                              â”‚
â”‚  â”œâ”€ handleEdit() - triggers onEdit callback                            â”‚
â”‚  â”œâ”€ handleDelete() - async delete with error handling                  â”‚
â”‚  â””â”€ handleToggleStatus() - toggles active/inactive                     â”‚
â”‚                                                                         â”‚
â”‚  RENDER SECTIONS:                                                       â”‚
â”‚  â”œâ”€ Header (name, status, priority badges)                             â”‚
â”‚  â”œâ”€ Action Buttons (Edit, Delete, Toggle, Show/Hide)                   â”‚
â”‚  â”œâ”€ Details Section (conditional render)                               â”‚
â”‚  â”‚   â”œâ”€ <RuleCondition condition={rule.condition} />                   â”‚
â”‚  â”‚   â””â”€ <RuleAction action={rule.action} />                            â”‚
â”‚  â””â”€ Delete Confirmation Modal                                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RuleCondition.tsx                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  IMPORT DEPENDENCIES:                                                   â”‚
â”‚  â””â”€ import * as React from 'react'                                      â”‚
â”‚                                                                         â”‚
â”‚  PROPS:                                                                 â”‚
â”‚  â””â”€ condition: { expression: string, parameters: Record<string, any> } â”‚
â”‚                                                                         â”‚
â”‚  RENDER:                                                                â”‚
â”‚  â”œâ”€ Expression block (mono font, syntax highlighting)                  â”‚
â”‚  â””â”€ Parameters list (key-value pairs)                                  â”‚
â”‚                                                                         â”‚
â”‚  STYLING:                                                               â”‚
â”‚  â””â”€ Blue theme (border-blue-300, text-blue-900, bg-blue-50)            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RuleAction.tsx                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  IMPORT DEPENDENCIES:                                                   â”‚
â”‚  â””â”€ import * as React from 'react'                                      â”‚
â”‚                                                                         â”‚
â”‚  PROPS:                                                                 â”‚
â”‚  â””â”€ action: { type, config, message }                                  â”‚
â”‚                                                                         â”‚
â”‚  HELPER FUNCTIONS:                                                      â”‚
â”‚  â”œâ”€ getActionIcon() - returns emoji for action type                    â”‚
â”‚  â””â”€ getActionColor() - returns color class for action type             â”‚
â”‚                                                                         â”‚
â”‚  RENDER:                                                                â”‚
â”‚  â”œâ”€ Action Type with Icon                                              â”‚
â”‚  â”œâ”€ Message block (optional)                                           â”‚
â”‚  â””â”€ Configuration (key-value pairs)                                    â”‚
â”‚                                                                         â”‚
â”‚  STYLING:                                                               â”‚
â”‚  â””â”€ Purple theme (border-purple-300, text-purple-900, bg-purple-50)    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RuleEditor.tsx                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  IMPORT DEPENDENCIES:                                                   â”‚
â”‚  â”œâ”€ import * as React from 'react'                                      â”‚
â”‚  â”œâ”€ import { Button } from '@/components/ui/button'                     â”‚
â”‚  â”œâ”€ import { ErrorAlert } from '@/components/ui/ErrorAlert'             â”‚
â”‚  â””â”€ import type { Rule, RuleStatus, RulePriority } from './RulePreview'â”‚
â”‚                                                                         â”‚
â”‚  FORM STATE:                                                            â”‚
â”‚  â”œâ”€ [name, setName]                                                     â”‚
â”‚  â”œâ”€ [description, setDescription]                                       â”‚
â”‚  â”œâ”€ [status, setStatus]                                                 â”‚
â”‚  â”œâ”€ [priority, setPriority]                                             â”‚
â”‚  â”œâ”€ [expression, setExpression]                                         â”‚
â”‚  â”œâ”€ [actionType, setActionType]                                         â”‚
â”‚  â”œâ”€ [actionMessage, setActionMessage]                                   â”‚
â”‚  â”œâ”€ [isSaving, setIsSaving]                                             â”‚
â”‚  â””â”€ [error, setError]                                                   â”‚
â”‚                                                                         â”‚
â”‚  FORM FIELDS:                                                           â”‚
â”‚  â”œâ”€ Rule Name (text input, required)                                   â”‚
â”‚  â”œâ”€ Description (textarea)                                              â”‚
â”‚  â”œâ”€ Status (select: draft/active/inactive)                             â”‚
â”‚  â”œâ”€ Priority (select: low/medium/high/critical)                        â”‚
â”‚  â”œâ”€ Condition Expression (textarea, mono font, required)               â”‚
â”‚  â”œâ”€ Action Type (select: validate/transform/notify/reject)             â”‚
â”‚  â””â”€ Action Message (text input)                                        â”‚
â”‚                                                                         â”‚
â”‚  HANDLERS:                                                              â”‚
â”‚  â””â”€ handleSubmit() - validates and calls onSave()                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RulesList.tsx                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  IMPORT DEPENDENCIES:                                                   â”‚
â”‚  â”œâ”€ import * as React from 'react'                                      â”‚
â”‚  â”œâ”€ import { RulePreview } from './RulePreview'                         â”‚
â”‚  â””â”€ import { ErrorAlert } from '@/components/ui/ErrorAlert'             â”‚
â”‚                                                                         â”‚
â”‚  STATE:                                                                 â”‚
â”‚  â””â”€ [filter, setFilter] - current filter ('all'|'active'|etc)          â”‚
â”‚                                                                         â”‚
â”‚  COMPUTED:                                                              â”‚
â”‚  â””â”€ filteredRules (useMemo) - filters rules by status                  â”‚
â”‚                                                                         â”‚
â”‚  RENDER STATES:                                                         â”‚
â”‚  â”œâ”€ Loading (skeleton placeholders)                                    â”‚
â”‚  â”œâ”€ Error (ErrorAlert)                                                 â”‚
â”‚  â”œâ”€ Empty (no rules message)                                           â”‚
â”‚  â””â”€ List of RulePreview components                                     â”‚
â”‚                                                                         â”‚
â”‚  FEATURES:                                                              â”‚
â”‚  â”œâ”€ Filter buttons (all, active, inactive, draft)                      â”‚
â”‚  â””â”€ Maps filtered rules to RulePreview components                      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         PRZYKÅAD UÅ»YCIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ============================================================================
// 1. POJEDYNCZY KOMPONENT RulePreview
// ============================================================================

import { RulePreview } from '@/components/rules/RulePreview';

const rule: Rule = {
  id: '1',
  name: 'DÅ‚uga wycieczka z niskim budÅ¼etem',
  description: 'Walidacja dla wycieczek trwajÄ…cych powyÅ¼ej 7 dni z budÅ¼etem poniÅ¼ej 1000',
  status: 'active',
  priority: 'high',
  condition: {
    expression: 'trip.duration > 7 && trip.budget < 1000',
    parameters: {
      minDuration: 7,
      maxBudget: 1000
    }
  },
  action: {
    type: 'validate',
    message: 'DÅ‚ugie wycieczki wymagajÄ… wyÅ¼szego budÅ¼etu dla komfortu podrÃ³Å¼y',
    config: {
      threshold: 1000,
      recommendation: 'ZwiÄ™ksz budÅ¼et do minimum 1500 PLN'
    }
  },
  created_at: '2025-01-15T10:00:00Z',
  updated_at: '2025-01-20T14:30:00Z',
  created_by: 'user-123'
};

// Podstawowe uÅ¼ycie
<RulePreview
  rule={rule}
  onEdit={(id) => console.log('Edit rule:', id)}
  onDelete={async (id) => await deleteRule(id)}
  onToggleStatus={(id, status) => updateRuleStatus(id, status)}
  showActions={true}
  compact={false}
/>

// Tryb kompaktowy (domyÅ›lnie zwiniÄ™ty)
<RulePreview
  rule={rule}
  compact={true}
/>

// Tylko widok (bez akcji)
<RulePreview
  rule={rule}
  showActions={false}
/>

// ============================================================================
// 2. LISTA REGUÅ - RulesList
// ============================================================================

import { RulesList } from '@/components/rules/RulesList';

const MyRulesPage = () => {
  const [rules, setRules] = React.useState<Rule[]>([]);
  const [isLoading, setIsLoading] = React.useState(true);
  const [error, setError] = React.useState<string | null>(null);

  React.useEffect(() => {
    fetchRules();
  }, []);

  const fetchRules = async () => {
    try {
      const response = await fetch('/api/rules');
      const data = await response.json();
      setRules(data);
    } catch (err) {
      setError(err.message);
    } finally {
      setIsLoading(false);
    }
  };

  const handleEdit = (ruleId: string) => {
    router.push(`/rules/${ruleId}/edit`);
  };

  const handleDelete = async (ruleId: string) => {
    await fetch(`/api/rules/${ruleId}`, { method: 'DELETE' });
    setRules(rules.filter(r => r.id !== ruleId));
  };

  const handleToggleStatus = async (ruleId: string, newStatus: RuleStatus) => {
    await fetch(`/api/rules/${ruleId}`, {
      method: 'PATCH',
      body: JSON.stringify({ status: newStatus })
    });
    setRules(rules.map(r =>
      r.id === ruleId ? { ...r, status: newStatus } : r
    ));
  };

  return (
    <div className="container mx-auto py-8">
      <h1 className="text-3xl font-bold mb-6">Business Rules</h1>

      <RulesList
        rules={rules}
        isLoading={isLoading}
        error={error}
        onEdit={handleEdit}
        onDelete={handleDelete}
        onToggleStatus={handleToggleStatus}
      />
    </div>
  );
};

// ============================================================================
// 3. EDYTOR REGUÅ - RuleEditor
// ============================================================================

import { RuleEditor } from '@/components/rules/RuleEditor';

const CreateRulePage = () => {
  const [showEditor, setShowEditor] = React.useState(true);

  const handleSave = async (ruleData: Partial<Rule>) => {
    const response = await fetch('/api/rules', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(ruleData)
    });

    if (response.ok) {
      router.push('/rules');
    }
  };

  return (
    <div className="container mx-auto py-8">
      <h1 className="text-3xl font-bold mb-6">Create New Rule</h1>

      {showEditor && (
        <RuleEditor
          onSave={handleSave}
          onCancel={() => router.back()}
        />
      )}
    </div>
  );
};

// Edycja istniejÄ…cej reguÅ‚y
const EditRulePage = ({ ruleId }: { ruleId: string }) => {
  const [rule, setRule] = React.useState<Rule | null>(null);

  React.useEffect(() => {
    fetch(`/api/rules/${ruleId}`)
      .then(res => res.json())
      .then(setRule);
  }, [ruleId]);

  const handleSave = async (ruleData: Partial<Rule>) => {
    await fetch(`/api/rules/${ruleId}`, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(ruleData)
    });

    router.push('/rules');
  };

  if (!rule) return <div>Loading...</div>;

  return (
    <div className="container mx-auto py-8">
      <h1 className="text-3xl font-bold mb-6">Edit Rule</h1>

      <RuleEditor
        rule={rule}
        onSave={handleSave}
        onCancel={() => router.back()}
      />
    </div>
  );
};

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         STYLE GUIDE & CONVENTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. NAMING CONVENTIONS
   â”œâ”€ Components: PascalCase (RulePreview, RuleCondition)
   â”œâ”€ Files: PascalCase.tsx (RulePreview.tsx)
   â”œâ”€ Props interfaces: ComponentNameProps
   â”œâ”€ Type definitions: PascalCase (Rule, RuleStatus)
   â””â”€ Handlers: handle[Action] (handleEdit, handleDelete)

2. FOLDER STRUCTURE
   â”œâ”€ Group related components in feature folders (/rules/)
   â”œâ”€ Shared UI components in /ui/ folder
   â”œâ”€ Co-locate types with components
   â””â”€ Export main component as named export

3. COMPONENT PATTERNS
   â”œâ”€ Use React.FC<Props> for component types
   â”œâ”€ Props interface before component definition
   â”œâ”€ State hooks at top of component
   â”œâ”€ Helper functions before component or outside
   â”œâ”€ JSX in return statement
   â””â”€ Conditional rendering with early returns

4. STATE MANAGEMENT
   â”œâ”€ Local state with useState
   â”œâ”€ Computed values with useMemo
   â”œâ”€ Side effects with useEffect
   â””â”€ Callbacks passed as props

5. STYLING
   â”œâ”€ Tailwind CSS utility classes
   â”œâ”€ CSS variables for colors (var(--color...))
   â”œâ”€ Consistent spacing (p-4, gap-3, space-y-6)
   â”œâ”€ Responsive design (sm:, md:, lg:)
   â””â”€ Color themes: blue (conditions), purple (actions)

6. ERROR HANDLING
   â”œâ”€ Try-catch blocks for async operations
   â”œâ”€ Error state in component
   â”œâ”€ Display errors with ErrorAlert
   â””â”€ Graceful degradation

7. ACCESSIBILITY
   â”œâ”€ Semantic HTML elements
   â”œâ”€ ARIA labels where needed
   â”œâ”€ Keyboard navigation support
   â””â”€ Focus states (focus-visible:outline)

8. TYPE SAFETY
   â”œâ”€ All props typed with interfaces
   â”œâ”€ No 'any' types (use 'unknown' if needed)
   â”œâ”€ Union types for status/priority
   â””â”€ Optional props with ?

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         INTEGRATION CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–¡ Components Created
  â”œâ”€ [âœ“] RulePreview.tsx
  â”œâ”€ [âœ“] RuleCondition.tsx
  â”œâ”€ [âœ“] RuleAction.tsx
  â”œâ”€ [âœ“] RuleEditor.tsx
  â””â”€ [âœ“] RulesList.tsx

â–¡ Dependencies Verified
  â”œâ”€ [âœ“] button.tsx exists
  â”œâ”€ [âœ“] ErrorAlert.tsx exists
  â”œâ”€ [âœ“] React imported
  â””â”€ [âœ“] TypeScript configured

â–¡ Type Definitions
  â”œâ”€ [âœ“] Rule interface
  â”œâ”€ [âœ“] RuleStatus type
  â”œâ”€ [âœ“] RulePriority type
  â”œâ”€ [âœ“] RuleConditionData interface
  â””â”€ [âœ“] RuleActionData interface

â–¡ Functionality
  â”œâ”€ [âœ“] Display rule details
  â”œâ”€ [âœ“] Edit rule
  â”œâ”€ [âœ“] Delete rule with confirmation
  â”œâ”€ [âœ“] Toggle rule status
  â”œâ”€ [âœ“] Filter rules by status
  â”œâ”€ [âœ“] Loading states
  â”œâ”€ [âœ“] Error handling
  â””â”€ [âœ“] Empty states

â–¡ Styling
  â”œâ”€ [âœ“] Tailwind classes
  â”œâ”€ [âœ“] Responsive design
  â”œâ”€ [âœ“] Color themes
  â”œâ”€ [âœ“] Status badges
  â””â”€ [âœ“] Priority badges

â–¡ Next Steps (for integration)
  â”œâ”€ [ ] Create API endpoints (/api/rules/*)
  â”œâ”€ [ ] Create database schema for rules
  â”œâ”€ [ ] Create page components (pages/rules/*)
  â”œâ”€ [ ] Add navigation links
  â”œâ”€ [ ] Write tests (unit + integration)
  â””â”€ [ ] Add documentation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         TECHNICAL NOTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. PERFORMANCE CONSIDERATIONS
   â€¢ useMemo for filtered rules list to avoid unnecessary recalculations
   â€¢ Compact mode allows showing many rules without performance hit
   â€¢ Lazy loading can be added for large lists (virtual scrolling)

2. EXTENSIBILITY
   â€¢ Easy to add new rule types (extend RuleActionData.type union)
   â€¢ Priority and status can be extended with new values
   â€¢ RuleCondition supports any expression language
   â€¢ Config objects are flexible (Record<string, any>)

3. REUSABILITY
   â€¢ Components are decoupled and can be used independently
   â€¢ Props are flexible with optional handlers
   â€¢ Can be styled differently per use case
   â€¢ Type system ensures consistency

4. MAINTAINABILITY
   â€¢ Clear separation of concerns
   â€¢ Well-documented with JSDoc comments
   â€¢ Consistent naming conventions
   â€¢ TypeScript catches errors at compile time

5. KNOWN LIMITATIONS
   â€¢ No syntax validation for condition expressions (could add parser)
   â€¢ No real-time collaboration (single user edits)
   â€¢ Delete is permanent (no soft delete/undo)
   â€¢ No rule versioning (could track history)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         GENERATED: 2025-10-27
                         VERSION: 1.0.0
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
