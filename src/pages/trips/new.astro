---
/**
 * New Trip Page
 *
 * Page for creating a new trip with AI itinerary generation option.
 * Features:
 * - TripForm component with validation
 * - Auto-save drafts
 * - Breadcrumb navigation
 * - Authentication required
 */

import Layout from '@/layouts/Layout.astro';
import Breadcrumb from '@/components/ui/Breadcrumb.astro';
import { TripForm } from '@/components/forms/TripForm';

// Check authentication (will be handled by middleware)
// For now, we'll just render the page

const breadcrumbItems = [
  { label: 'Home', href: '/' },
  { label: 'Trips', href: '/trips' },
  { label: 'New Trip' },
];
---

<Layout title="Create New Trip - VibeTravels">
  <main class="mx-auto max-w-3xl px-4 py-8 sm:px-6 lg:px-8">
    {/* Header */}
    <div class="mb-8">
      <Breadcrumb items={breadcrumbItems} />
      <h1 class="text-3xl font-bold text-gray-900">Create New Trip</h1>
      <p class="mt-2 text-sm text-gray-600">
        Plan your next adventure. Fill in the details below to create your trip, and optionally
        generate an AI-powered itinerary.
      </p>
    </div>

    {/* Form */}
    <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
      <TripForm client:load />
    </div>

    {/* Help Text */}
    <div class="mt-6 rounded-lg bg-blue-50 p-4">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg
            class="h-5 w-5 text-blue-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width={2}
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </div>
        <div class="ml-3 flex-1">
          <h3 class="text-sm font-medium text-blue-800">Tips for creating your trip</h3>
          <div class="mt-2 text-sm text-blue-700">
            <ul class="list-disc space-y-1 pl-5">
              <li>
                Be specific about your destination (e.g., "Paris, France" instead of just "Paris")
              </li>
              <li>
                Include details in the description about your travel style, budget, or special
                interests
              </li>
              <li>
                Enable AI generation to get a detailed day-by-day itinerary with activities and
                recommendations
              </li>
              <li>Your draft is automatically saved as you type</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>
